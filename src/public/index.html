<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="web-style.css" rel="stylesheet" />
        <title>LiveChat - Intégration Twitch & Discord</title>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>LiveChat</h1>
            </div>

            <div class="section">
                <h2>Installation du bot Discord</h2>
                <p>
                    Pour commencer, invitez le bot sur votre serveur <strong>privé</strong> Discord.<br />
                    C'est grâce à lui que vous pourrez faire afficher du contenu sur votre overlay.
                    <br />
                    <br />
                    <strong
                        >Gardez à l'esprit que tous les membres présents sur le serveur pourront utiliser le live chat
                        et faire apparaître n'importe quoi sur votre flux, n'invitez pas n'importe qui.</strong
                    >
                </p>
                <a href="https://discord.com/oauth2/authorize?client_id=1379921658109890610" class="btn" target="_blank"
                    >Ajouter le bot</a
                >
            </div>

            <div class="section">
                <h2>Configuration de l'overlay</h2>
                <p id="paragraph">
                    Ensuite, vous devrez rentrer les informations demandés ci-dessous puis cliquer sur le bouton.<br />
                    Vous obtiendrez une URL que vous devrez ajouter sur OBS Studio.<br />
                    <br />
                    Pour cela vous allez ajouter une source Navigateur sur l'une de vos scènes, puis vous insérez le
                    lien, changez la résolution pour celle configurée dans les paramètres d'OBS puis Vidéo, généralement
                    1920x1080, puis placez là au-dessus de toutes les autres sources.<br />
                    Vous pouvez désormais dupliquer la source sur l'ensemble des scènes que vous souhaitez.
                </p>
                <div class="form-group" id="first">
                    <label for="username">Nom d'utilisateur Twitch</label>
                    <input type="text" id="username" placeholder="Votre nom d'utilisateur Twitch" />
                </div>
                <div class="form-group">
                    <label for="guildId">
                        Identifiant du serveur
                        <span
                            class="info-tooltip"
                            title="1. Activez le mode développeur dans les paramètres Discord&#10;2. Faites un clic droit sur votre serveur&#10;3. Cliquez sur 'Copier l'identifiant'"
                            >?</span
                        >
                    </label>
                    <input type="text" id="guildId" placeholder="L'ID de votre serveur Discord" />
                </div>
                <button class="btn" onclick="generateLink()">Générer mon lien d'overlay</button>
                <div id="linkContainer" style="display: none">
                    <div class="code-block">
                        <span id="generatedLink"></span>
                        <button class="copy-btn" onclick="copyLink()">Copier</button>
                    </div>
                </div>
            </div>
            <div class="footer-links">
                <a href="https://github.com/nevylish/livechat">&nbsp;Code Source</a>
                <!--<span class="separator">•</span>
                <a href="/privacy">Privacy Policy</a>
                <span class="separator">•</span>
                <a href="/terms">Terms of Service</a>-->
            </div>
            <div class="footer-watermark">Nevylish</div>
        </div>

        <script>
            function generateLink() {
                const username = document.getElementById('username').value;
                const guildId = document.getElementById('guildId').value;

                if (!username || !guildId) {
                    alert('Veuillez remplir tous les champs');
                    return;
                }

                const link = `https://livechat.nevylish.fr/overlay.html?username=${username}&guildId=${guildId}`;
                document.getElementById('generatedLink').textContent = link;
                document.getElementById('linkContainer').style.display = 'block';
            }

            function copyLink() {
                const link = document.getElementById('generatedLink').textContent;
                navigator.clipboard.writeText(link).then(() => {
                    const btn = document.querySelector('.copy-btn');
                    btn.textContent = 'Copié !';
                    setTimeout(() => {
                        btn.textContent = 'Copier';
                    }, 2000);
                });
            }
        </script>
    </body>
</html>
